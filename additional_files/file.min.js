!function(t,e,a){"use strict";let n,r={};const p={0:"gray",1200:"green",1400:"cyan",1600:"blue",1900:"violet",2100:"orange",2400:"red",3e3:"legendary"};function l(t){let a,r,p,l=this.id;titleT[tmpArr[l]]=e("title",t).text(),r=e("<h3 />").attr("id",tmpArr[l]).html(titleT[tmpArr[l]]+" [#"+tmpArr[l]+"]:"),p=e("<div />").html(e("pre",t).prop("outerHTML")).attr("data-id",l),a=n.slice(0,l).lastIndexOf(!0),e("#templates>div"+(~a?"[data-id="+a+"]":".cen")).after(p).after(r),n[l]=!0}t.setFileConfig=function(t,e){r[t]=e},t.parseRecords=function(t){let a,n,p,l=0,d=t.split("\n").map(t=>t.replace(/[\f\r\v]/g,"").split("|")).filter(t=>5===t.length);for(Rows=[],a=0;a<d.length;++a)n=d[a].concat((d.length-a).toString()),(p=recordMatch(n,curLocation,r)).length&&(Rows.push(e("<tr />").append(e("<td />").html(p[0])).append(e("<td />").html(p[1])).append(e("<td />").append(e('<a href="records/'+encodeURIComponent(n[0])+'.html" target="_blank">链接</a>'))).append(e("<td />").html(n[1])).append(e("<td />").html(n[2])).append(e("<td />").html(n[3])).append(e("<td />").html(p[2])).get(0)),++l);sortTable(curROrder),totPage=Math.ceil(l/RECORDS_PER_PAGE),curPage=curPage>=1?Math.min(curPage,totPage):1,e("#recTable").append(Rows.slice((curPage-1)*RECORDS_PER_PAGE,curPage*RECORDS_PER_PAGE)),e("#recTotal").html("统计："+(l?(curLocation||r.tag||r.search?"当前位置":"")+"共有 "+l+" 条记录":"怎么一道题都还没有啊，是你瞎编的算法么？")),pagination()},t.getTemplates=function(t){tmpArr=t.split("\n").map(t=>t.replace(/[\f\n\r\v]/g,"")).filter(Boolean),titleT={},n=[],tmpArr.forEach((t,a)=>e.ajax("templates/"+t+".xml",{type:"GET",dataType:"xml",id:a,success:l}))},t.parseMemos=function(t){let a,n=t.split("\n").map(t=>t.replace(/[\f\r\v]/g,"").split("|")).filter(t=>4===t.length);Rows=n.map((t,n,r)=>(a=t.concat((r.length-n).toString()),e("<tr />").append(e("<td />").html(a[4])).append(e("<td />").html(a[0])).append(e("<td />").append(e('<a href="memos/'+a[4]+'.html" target="_blank">链接</a>'))).append(e("<td />").html(a[1])).append(e("<td />").html(a[2])).data("priority",parseInt(a[3])).get(0))).sort((function(t,a){return e(a).data("priority")-e(t).data("priority")||+a.cells[0].innerText-+t.cells[0].innerText})),totPage=Math.ceil(n.length/RECORDS_PER_PAGE),curPage=curPage>=1?Math.min(curPage,totPage):1,e("#memTable").append(Rows.slice((curPage-1)*MEMOS_PER_PAGE,curPage*MEMOS_PER_PAGE)),e("#memTotal").html("统计: 共 "+n.length+" 份便笺"),pagination()},t.parseRanklist=function(t){let a;"OK"===t.status&&(Rows=t.result.map(t=>e("<tr />").append(e("<td />").append(e('<a class="user '+p[Object.keys(p).sort().filter(e=>e<=t.rating).pop()]+'" href="http://codeforces.com/profile/'+t.handle+'" target="_blank">'+t.handle+"</a>"))).append(e("<td />").html(t.firstName)).append(e("<td />").html(t.lastName)).append(e("<td />").html(t.rating)).append(e("<td />").html(t.maxRating)).append(e("<td />").html(dateFormat(new Date(1e3*t.lastOnlineTimeSeconds)))).append(e("<td />").append((a=getFL(t.handle))?e('<a href="'+a+'" target="_blank">'+a+"</a>"):null)).get(0)),e("#rankTable>tbody").empty().append(Rows))}}(window||this,jQuery);