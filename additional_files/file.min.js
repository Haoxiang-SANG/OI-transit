function LoadRecordsTo(a,b){E="",xhr.onreadystatechange=function(){4===xhr.readyState&&(200===xhr.status||0===xhr.status?(E=xhr.responseText,V(a,b)):alert(failed))},xhr.open("GET","records/tot.cfg",!0),xhr.send(null)}function V(a,b){var c,d,e,h,i,j,k,l,m,n,o,f=0,g=0;A=E.split("\n");for(c in A)if(A[c]){if(e=A[c].replace(/[\f\n\r\v]/g,"").split("|"),5!==e.length)continue;++g,d=e[0],Matching(strFilter,d)&&(h=a.insertRow(),i=h.insertCell(),i.innerHTML=""+(g-1),j=h.insertCell(),j.innerHTML=pr2HTML(d),k=h.insertCell(),k.innerHTML='<a href="records/'+escape(d)+'.html" target="_blank">链接</a>',l=h.insertCell(),l.innerHTML=e[1],m=h.insertCell(),m.innerHTML=e[2],n=h.insertCell(),n.innerHTML=e[3],o=h.insertCell(),o.innerHTML=e[4],++f,((pageO-1)*P>=f||f>pageO*P)&&(h.style.display="none"))}for(c=0;f>c;++c)i=a.rows[c].cells[0],i.innerHTML=""+(g-parseInt(i.innerHTML));b.innerHTML="scx: "+(f?(strFilter?"当前筛选下共有 ":"共做了 ")+f+" 道题":"怎么一道题都还没有啊，快点做题了！"),pageC=Math.ceil(f/P),pageDeals()}function LoadTemplates(a){E="",xhr.onreadystatechange=function(){4===xhr.readyState&&(200===xhr.status||0===xhr.status?(E=xhr.responseText,W(),G=0,X(a)):alert(failed))},xhr.open("GET","templates/tot.cfg",!0),xhr.send(null)}function W(){var a;B=E.split("\n"),C=[];for(a in B)B[a]&&(B[a]=B[a].replace(/[\f\n\r\v]/g,""))}function X(a){if(!(G>=B.length)){var b=B[G];b&&(xhr.onreadystatechange=function(){4===xhr.readyState&&(200===xhr.status||0===xhr.status?(F=xhr.responseXML,F&&Y(a),++G,X(a)):alert(failed))},b="templates/"+b+".xml",xhr.open("GET",b,!0),xhr.send(null))}}function Y(a){var b,c,d,e;C[G]=F.getElementsByTagName("title")[0].childNodes[0].nodeValue,d=document.createElement("h3"),d.id=B[G],d.innerHTML=C[G]+" [#"+B[G]+"]：",templates.appendChild(d),b=F.getElementsByTagName("pre")[0],c=b.innerXML?b.innerXML:b.xml?b.xml:xs.serializeToString(b),e=document.createElement("div"),e.innerHTML=c,a.appendChild(e)}function LoadMemosTo(a,b){E="",xhr.onreadystatechange=function(){4===xhr.readyState&&(200===xhr.status||0===xhr.status?(E=xhr.responseText,Z(a,b)):alert(failed))},xhr.open("GET","memos/tot.cfg",!0),xhr.send(null)}function Z(a,b){var c,d,e,h,i,k,l,m,f=0,g=[];D=E.split("\n");for(c in D)if(""!==D[c]){if(e=D[c].replace(/[\f\n\r\v]/g,"").split("|"),4!==e.length)continue;d=e[0],g[c]=document.createElement("tr"),h=g[c].insertCell(),h.innerHTML=""+f,i=g[c].insertCell(),i.innerHTML=e[0],k=g[c].insertCell(),l=g[c].insertCell(),l.innerHTML=e[1],m=g[c].insertCell(),m.innerHTML=e[2],++f,((pageO-1)*Q>=f||f>pageO*Q)&&(g[c].style.display="none"),g[c].priority=parseInt(e[3])}for(c=0;f>c;++c)h=g[c].cells[0],h.innerHTML=""+(j=f-parseInt(h.innerHTML)),k=g[c].cells[2],k.innerHTML='<a href="memos/'+j+'.html" target="_blank">链接</a>';for(g.sort(function(a,b){return b.priority-a.priority}),c=0;f>c;++c)a.appendChild(g[c]);b.innerHTML="scx: 共 "+f+" 份便笺",pageC=Math.ceil(f/Q),pageDeals()}var A,B,C,D,E,F,G,strFilter,pageO,pageC;const P=50,Q=50,failed="今天运气不怎么好，和 scx 喝口茶再试试吧";