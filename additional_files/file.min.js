!function(t,e){"use strict";let a,n={};const r={0:"gray",1200:"green",1400:"cyan",1600:"blue",1900:"violet",2100:"orange",2400:"red",3e3:"legendary"};function p(t){let e,n,r,p=this.id;titleT[tmpArr[p]]=$("title",t).text(),n=$("<h3 />").attr("id",tmpArr[p]).html(titleT[tmpArr[p]]+" [#"+tmpArr[p]+"]:"),r=$("<div />").html($("pre",t).prop("outerHTML")).attr("data-id",p),e=a.slice(0,p).lastIndexOf(!0),$("#templates>div"+(~e?"[data-id="+e+"]":".cen")).after(r).after(n),a[p]=!0}t.setFileConfig=function(t,e){n[t]=e},t.parseRecords=function(t){let e,a,r,p=0,l=t.split("\n").map(t=>t.replace(/[\f\r\v]/g,"").split("|")).filter(t=>5===t.length);for(Rows=[],e=0;e<l.length;++e)a=l[e].concat((l.length-e).toString()),(r=recordMatch(a,curLocation,n)).length&&(Rows.push($("<tr />").append($("<td />").html(r[0])).append($("<td />").html(r[1])).append($("<td />").append($('<a href="records/'+encodeURIComponent(a[0])+'.html" target="_blank">链接</a>'))).append($("<td />").html(a[1])).append($("<td />").html(a[2])).append($("<td />").html(a[3])).append($("<td />").html(r[2])).get(0)),++p);sortTable(curROrder),totPage=Math.ceil(p/RECORDS_PER_PAGE),curPage=curPage>=1?Math.min(curPage,totPage):1,$("#recTable").append(Rows.slice((curPage-1)*RECORDS_PER_PAGE,curPage*RECORDS_PER_PAGE)),$("#recTotal").html("统计："+(p?(curLocation||n.tag||n.search?"当前位置":"")+"共有 "+p+" 条记录":"怎么一道题都还没有啊，是你瞎编的算法么？")),pagination()},t.getTemplates=function(t){tmpArr=t.split("\n").map(t=>t.replace(/[\f\n\r\v]/g,"")).filter(Boolean),titleT={},a=[],tmpArr.forEach((t,e)=>$.ajax("templates/"+t+".xml",{type:"GET",dataType:"xml",id:e,success:p}))},t.parseMemos=function(t){let e,a=t.split("\n").map(t=>t.replace(/[\f\r\v]/g,"").split("|")).filter(t=>4===t.length);Rows=a.map((t,a,n)=>(e=t.concat((n.length-a).toString()),$("<tr />").append($("<td />").html(e[4])).append($("<td />").html(e[0])).append($("<td />").append($('<a href="memos/'+e[4]+'.html" target="_blank">链接</a>'))).append($("<td />").html(e[1])).append($("<td />").html(e[2])).data("priority",parseInt(e[3])).get(0))).sort(function(t,e){return $(e).data("priority")-$(t).data("priority")||+e.cells[0].innerText-+t.cells[0].innerText}),totPage=Math.ceil(a.length/RECORDS_PER_PAGE),curPage=curPage>=1?Math.min(curPage,totPage):1,$("#memTable").append(Rows.slice((curPage-1)*MEMOS_PER_PAGE,curPage*MEMOS_PER_PAGE)),$("#memTotal").html("统计: 共 "+a.length+" 份便笺"),pagination()},t.parseRanklist=function(t){let e;"OK"===t.status&&(Rows=t.result.map(t=>$("<tr />").append($("<td />").append($('<a class="user '+r[Object.keys(r).sort().filter(e=>e<=t.rating).pop()]+'" href="http://codeforces.com/profile/'+t.handle+'" target="_blank">'+t.handle+"</a>"))).append($("<td />").html(t.firstName)).append($("<td />").html(t.lastName)).append($("<td />").html(t.rating)).append($("<td />").html(t.maxRating)).append($("<td />").html(dateFormat(new Date(1e3*t.lastOnlineTimeSeconds)))).append($("<td />").append((e=getFL(t.handle))?$('<a href="'+e+'" target="_blank">'+e+"</a>"):null)).get(0)),$("#rankTable>tbody").empty().append(Rows))}}(window||this);