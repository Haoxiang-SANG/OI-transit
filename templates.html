<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<link type="text/css" rel="stylesheet" href="additional_files/bootstrap.simplify.min.css">
		<link type="text/css" rel="stylesheet" href="additional_files/sh_typical.min.css">
		<link type="text/css" rel="stylesheet" href="additional_files/pgmain.min.css">
		<title>OI 中转站 - 模板</title>
		<script type="text/javascript" src="additional_files/basic.min.js"></script>
		<script type="text/javascript" src="additional_files/file.min.js"></script>
		<script type="text/javascript">
			// document loaded
			window.onload = function () {
				init();

				var dt = function() {dispTime.innerHTML = getTime();};
				dt(); setInterval(dt, 250);

				if(localStorage.getItem('marquee') === 'on'){
					intro.style.display = '';
					intro.start();
				}

				LoadTemplates(templates);
			}
			// big list change
			function bigChange(){
				var V = tclass.value, n = B.length, i = 0, j = 0, s = "", E0;
				var E0, E1;
				E0 = document.createElement('option');
				E0.value = 'unsel';
				E0.innerHTML = '选择模板';
				sclass.innerHTML = '';
				sclass.appendChild(E0);
				for(i = 0; i < n; ++i){
					if(j = B[i].search(/[^a-z]/), j < 0) continue;
					s = B[i].substr(0, j);
					if(V === s){
						E0 = document.createElement('option');
						E0.value = B[i];
						E0.innerHTML = C[i];
						sclass.appendChild(E0);
					}
				}
			}
			// thin list change
			function thinChange(){
				if(sclass.value !== 'unsel'){
					location.href = '#' + sclass.value;
					sclass.selectedIndex = 0;
				}
			}
			// adjust marquee
			function MarqAdj(){
				if(intro.style.display == 'none'){
					intro.style.display = '';
					intro.start();
					localStorage.setItem('marquee', 'on');
				}else{
					intro.style.display = 'none';
					localStorage.setItem('marquee', 'off');
				}
			}
			// scrolling
			window.onscroll = function(){
				var pos = getScrollTop();
				document.getElementById("back-to-top").style.display = (pos >= 1000 ? '' : 'none');
			}
			function gotoTop(){
				var pos = getScrollTop(), nwpos;
				if(pos > 0){
					nwpos = (pos > 1000 ? parseInt(pos * 0.8) : Math.max(pos - 200, 0));
					scrollTo(0, nwpos);
					if(nwpos > 0 && getScrollTop() === nwpos)
						setTimeout("gotoTop()", 25);	
				}
			}
		</script>
	</head>
	<body class="main-body">
		<div class="title" style="height: 160px">
			<h2>OI 中转站 - 模板</h2>
			<p id="dispTime">当前时间：2017-7-34 17:07:34</p>
		</div>
		<div class="dmarquee" style="height: 25px">
			<button class="button" id="btnMarquee" onclick="MarqAdj()" style="float: left">开启/关闭字幕</button>
			<div style="overflow: hidden">
				<marquee id="intro" scrollamount="1334" style="display: none;">注：(字幕修改，版本 1.2)</marquee>
			</div>
		</div>
		<div class="main">
			<div class="opacity" style="min-height: 1344px">
				<div class="cen big-button">
					<button id="btnRecord" onclick="location.href='index.html'">做题记录</button><button id="btnTools">小工具</button><button id="btnTemplate">模板</button><button id="btnMemo" onclick="location.href='memos.html'">便笺</button>
				</div>
				<fieldset>
					<legend>模板</legend>
					<div id="templates">
						<div class="cen">
							<span>分类：</span>
							<select class="selbox" id="tclass" onchange="bigChange()">
								<option value="unsel">选择分类</option>
								<option value="nt">数论(nt)</option>
								<option value="str">字符串(str)</option>
								<option value="tr">树(tr)</option>
								<option value="gr">图(gr)</option>
								<option value="ds">数据结构(ds)</option>
								<option value="ed">常用(ed)</option>
								<option value="cg">计算几何(cg)</option>
							</select>
							<span>&emsp;&emsp;具体：</span>
							<select class="selbox" id="sclass" onchange="thinChange()">
								<option value="unsel">选择模板</option>
							</select>
						</div>
					</div>
				</fieldset>
			</div>
		</div>
		<div id="back-to-top" onclick="gotoTop()" style="display: none">
			<img src="additional_files/rocket.png" alt="scx 的小火箭" style="width: 100%" />
			<p class="hint">scx&thinsp;的小火箭</p>
		</div>
		<script type="text/javascript">
			if(console)
				console.log("scx: 这下可找到你了！哈哈哈~");
		</script>
	</body>
</html>
