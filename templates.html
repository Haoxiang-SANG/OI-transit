<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<!-- version 3.0 -->
		<meta charset="utf-8">
		<link type="text/css" rel="stylesheet" href="additional_files/bootstrap.simplify.min.css">
		<link type="text/css" rel="stylesheet" href="additional_files/sh_typical.min.css">
		<link type="text/css" rel="stylesheet" href="additional_files/pgmain.min.css">
		<title>OI 中转站 - 模板</title>
		<script src="additional_files/jquery.min.js"></script>
		<script src="additional_files/basic.min.js"></script>
		<script src="additional_files/file.min.js"></script>
		<script>
			// document loaded
			$(document).ready(function (){
				updTime(); setInterval(updTime, 250);
				if(getStorage('marquee') === 'on') $("#intro").show().get(0).start();

				$.get('templates/tot.cfg', getTemplates);

				$('#btnMarquee').click(function () {
					var $mar = $('#intro');
					if ($mar.is(':hidden')) {$mar.show().get(0).start(); setStorage('marquee', 'on');}
					else {$mar.hide(); setStorage('marquee', 'off');}
				});

				// big list change
				$('#tclass').click(function () {
					var V = this.value, i, j, t = $('#sclass');
					t.empty().append($('<option />').val('unsel').html('选择模板'));
					for (i = 0; i < tmpArr.length; ++i){
						if (j = tmpArr[i].search(/[^a-z]/), j < 0) continue;
						if (V === tmpArr[i].substr(0, j))
							t.append($('<option />').val(tmpArr[i]).html(titleArr[i]));
					}
				});

				// thin list change
				$('#sclass').click(function () {if(this.value !== 'unsel') location.href = '#' + this.value;});

				var going = -1;
				// scrolling
				$(window).scroll(function () {
					var $top = $('#back-to-top');
					if ($(window).scrollTop() >= 1000)
						$top.slideDown('slow');
					else {
						if (going === -1)
							$top.slideUp('slow');
						else if (!$top.is(':hidden') && $top.queue().length === 0)
							$top.animate({'opacity': 'hide', 'bottom': '75%'}, 'slow', function () {$top.css('bottom', '');});
					}
				});

				// go to Top
				function gotoTop() {
					var pos = $(window).scrollTop(), newPos;
					if (pos > 0) {
						newPos = (pos > 1000 ? parseInt(pos * 0.8) : Math.max(pos - 200, 0));
						$(window).scrollTop(newPos);
						going = (newPos > 0 ? setTimeout(gotoTop, 25) : -1);
					}
				}

				$('#back-to-top').click(gotoTop);
				$('#motto').fadeTo(2000, 1, function () {$(this).css('opacity', '');});
			});
		</script>
	</head>
	<body>
		<div class="title">
			<div class="opacity-3 flex" style="height: 160px">
				<div style="width: 100%">
					<h2 class="cen">OI 中转站 - 模板</h2>
					<p class="cen" id="dispTime">当前时间: 2018-7-31 12:00:00</p>
					<p class="ri" id="motto" style="opacity: 0; margin-top: -20px">to dissolve or to precipitate, it is a question.</p>
				</div>
			</div>
		</div>
		<div class="dmarquee" style="height: 25px">
			<button class="button" id="btnMarquee" style="float: left">开启/关闭字幕</button>
			<div style="overflow: hidden">
				<marquee id="intro" scrollamount="1000" style="color: #999; display: none;">bestFy is the cutest !</marquee>
			</div>
		</div>
		<div class="main">
			<div class="opacity-4 padding" style="min-height: 1344px">
				<div class="cen big-button">
					<button onclick="location.href='index.html'">做题记录</button><button onclick="location.href='tools.html'">小工具</button><button>模板</button><button onclick="location.href='memos.html'">便笺</button>
				</div>
				<fieldset>
					<legend>模板</legend>
					<div id="templates">
						<div class="cen">
							<span>分类：</span>
							<select class="selbox" id="tclass">
								<option value="unsel">选择分类</option>
								<option value="nt">数论(nt)</option>
								<option value="str">字符串(str)</option>
								<option value="tr">树(tr)</option>
								<option value="gr">图(gr)</option>
								<option value="ds">数据结构(ds)</option>
								<option value="ed">常用(ed)</option>
								<option value="cg">计算几何(cg)</option>
							</select>
							<span>&emsp;&emsp;具体：</span>
							<select class="selbox" id="sclass">
								<option value="unsel">选择模板</option>
							</select>
						</div>
					</div>
				</fieldset>
			</div>
		</div>
		<div id="back-to-top" style="display: none">
			<img src="additional_files/rocket.png" alt="fy 的小火箭" style="width: 100%" />
			<p class="hint">fy 的小火箭</p>
		</div>
	</body>
</html>
